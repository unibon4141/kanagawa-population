(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{176:function(e,t,n){"use strict";n.r(t);var c=n(71),s=n(1),a=n(23),r=n(3),i=n(72),o=n(5),l=n(2),j=n.n(l),d=n(15),h=n(0);function x(e){var t=e.scale,n=e.graphHeight,c="#888",s=t.range(),a=Object(r.a)(s,2),i=a[0],o=a[1],l=window.innerWidth;return Object(h.jsxs)("g",{children:[Object(h.jsx)("line",{x1:0,y1:i,x2:0,y2:o+2,stroke:c,strokeWidth:"2"}),Object(h.jsxs)("g",{children:[Object(h.jsx)("g",{transform:"translate(-80, ".concat(n/2,") rotate(-90)"),children:Object(h.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:l>768?"15":"12",children:"\u4eba\u53e3"})}),t.ticks().map((function(e,n){return Object(h.jsxs)("g",{transform:"translate(0, ".concat(t(e),")"),children:[Object(h.jsx)("line",{x1:"0",y1:"0",x2:"5",y2:"0",stroke:c}),Object(h.jsx)("text",{x:"-8",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:l>768?"12":"10",children:e})]},n)}))]})]})}function b(e){var t=e.scale,n=e.graphWidth,c="#888",s=n,a=t.range(),i=Object(r.a)(a,2),o=i[0],l=i[1],j=window.innerWidth;return Object(h.jsxs)("g",{children:[Object(h.jsx)("line",{x1:s,y1:o,x2:s,y2:l+2,stroke:c,strokeWidth:"2"}),Object(h.jsxs)("g",{children:[Object(h.jsx)("g",{transform:"translate(".concat(s,", 200) rotate(-90)"),children:Object(h.jsx)("text",{x:"30",y:"60",textAnchor:"end",dominantBaseline:"central",fontSize:j>768?"15":"12",children:"\u4e16\u5e2f\u5e73\u5747\u4eba\u6570"})}),t.ticks().map((function(e,n){return Object(h.jsxs)("g",{transform:"translate(".concat(s,", ").concat(t(e),")"),children:[Object(h.jsx)("line",{x1:"0",y1:"0",x2:"-5",y2:"0",stroke:c}),Object(h.jsx)("text",{x:"30",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:j>768?"12":"10",children:e})]},n)}))]})]})}function u(e){var t=e.scale,n=e.graphWidth,c=e.graphHeight,s="#888",a=c,i=window.innerWidth,o=t.range(),l=Object(r.a)(o,2),j=l[0],d=l[1];return Object(h.jsxs)("g",{children:[Object(h.jsx)("line",{x1:j,y1:a,x2:d+5,y2:a,stroke:s}),Object(h.jsxs)("g",{children:[Object(h.jsx)("g",{transform:"translate(".concat(n/2,", ").concat(a+40,")"),children:Object(h.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u5e74"})}),t.ticks(5).map((function(e,n){return Object(h.jsxs)("g",{transform:"translate(".concat(t(e),", 0)"),children:[Object(h.jsx)("line",{x1:"0",y1:c,x2:"0",y2:c-10,stroke:s}),Object(h.jsx)("text",{x:"0",y:a+15,textAnchor:"middle",dominantBaseline:"central",fontSize:i>768?"12":"10",children:e})]},n)}))]})]})}var O=function(e){var t=e.scale,n=e.type,c=e.graphWidth,s=window.innerWidth;return"main"===n?Object(h.jsx)("g",{transform:"translate(".concat(s>768?150:-100,",").concat(s>768?0:190,")"),children:t.domain().map((function(e,n){return Object(h.jsxs)("g",{transform:"translate(".concat(c-80,", ").concat(20+15*n,")"),children:[Object(h.jsx)("circle",{r:"5",fill:t(e)}),Object(h.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))}):Object(h.jsx)("g",{transform:"translate(150,0)",children:t.domain().map((function(e,n){if(1===n)return Object(h.jsxs)("g",{transform:"translate(".concat(s>768?c-100:-50,", ").concat(s>768?20+15*n:240,")"),children:[Object(h.jsx)("circle",{r:"5",fill:t(e)}),Object(h.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))})};var f=function(e){var t=e.target,n=e.colorScale,c=Object(o.useState)([]),a=Object(r.a)(c,2),i=a[0],l=a[1],b=window.innerWidth,f=window.innerHeight,m=b>768?.4*b:.65*b,p=b>768?.5*f:.7*m,g=20,v=b>768?100:55,y=(b>768?180:55)+v+m,w=g+(b>768?50:90)+p;if(Object(o.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa3.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0===i.length)return Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(h.jsx)("div",{style:{width:.9*y,height:w,position:"relative"},children:Object(h.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})]});if(null===t)return Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(h.jsx)("div",{style:{width:.9*y,height:w,position:"relative",margin:"0 auto"},children:Object(h.jsx)("p",{style:{width:"  ",position:"absolute",top:0,bottom:0,margin:"auto",textAlign:"center",height:"50px"},children:"\u5de6\u306e\u795e\u5948\u5ddd\u770c\u306e\u5730\u56f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3053\u3053\u306b\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})})]});var k=i.find((function(e){return e.name===t})),N=1970,W=k.population.filter((function(e){return null!==e[N]?(N+=5,!0):(N+=5,!1)})).map((function(e){var t=Object.keys(e)[0];return{year:t,population:e[t]}})),S=s.e().domain(s.a(W,(function(e){return e.year}))).range([0,m]).nice(),z=s.e().domain([0,s.a(W,(function(e){return e.population}))[1]]).range([p,0]);return Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("h2",{children:["\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5 : ",t]}),Object(h.jsx)("div",{children:Object(h.jsxs)("svg",{viewBox:"".concat(-v," ").concat(-g," ").concat(y," ").concat(w),width:y,height:w,children:[Object(h.jsx)(O,{scale:n,type:"sub",graphWidth:m}),Object(h.jsx)(x,{scale:z,graphHeight:p}),Object(h.jsx)(u,{scale:S,graphWidth:m,graphHeight:p}),Object(h.jsx)("g",{children:W.map((function(e,t){var c=t>0?W[t-1]:null;if(t>0)return Object(h.jsx)("line",{x1:S(c.year),y1:z(c.population),x2:S(e.year),y2:z(e.population),stroke:n("\u4eba\u53e3")},t)}))}),Object(h.jsx)("g",{children:W.map((function(e,t){return Object(h.jsx)("circle",{transform:"translate(".concat(S(e.year),",").concat(z(e.population),")"),cx:"0",cy:"0",r:b>768?"5":"3",fill:n("\u4eba\u53e3")},t)}))})]})})]})};var m=function(e){var t=e.scale,n=Object(o.useState)([]),c=Object(r.a)(n,2),l=c[0],j=c[1],d=Object(o.useState)(null),x=Object(r.a)(d,2),b=x[0],u=x[1],O=Object(o.useState)(null),m=Object(r.a)(O,2),p=m[0],g=m[1],v=10,y=10,w=50,k=50,N=window.innerWidth,W=N>768?.25*N:.6*N,S=N>768?.7*W:W,z=k+w+W,B=v+y+S;function H(e){u(e.currentTarget.dataset.name)}function A(e){g(e.currentTarget.dataset.name)}function E(e){g(null)}return Object(o.useEffect)((function(){s.d("kanagawa.topojson").then((function(e){var t=i.a(e,e.objects.kanagawa),n=Object(a.a)({},t);n.features=[];for(var c=14101,r=[];c<=14402;){var o=t.features.filter((function(e){return e.properties.N03_007==c}));if(o.length>0){var l=Object(a.a)({},n);l.features=o,r.push(l)}c++}var d=W,h=S,x=s.b().center([139.355972,35.400833500000005]).translate([d/2,h/2]).scale(21e3),b=s.c().projection(x),u=[];r.map((function(e){u.push({name:e.features[0].properties.N03_004,path:b(e)})})),j(u)}))}),[]),Object(h.jsxs)("div",{className:"columns is-multiline is-mobile is-variable is-0-mobile",children:[Object(h.jsx)("div",{className:"column is-4-desktop is-12-mobile",children:Object(h.jsx)("div",{className:"box",children:0===l.length?Object(h.jsx)("div",{style:{width:.8*z,height:B,position:"relative"},children:Object(h.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})}):Object(h.jsx)("svg",{viewBox:"".concat(-w," ").concat(-v," ").concat(z," ").concat(B),width:z,height:B,children:l.map((function(e,t){var n="";return n=e.name===b?"#aad5ff":e.name===p?"#dceaf8":"#fff",Object(h.jsx)("path",{onClick:H,d:e.path,"data-name":e.name,onMouseOver:A,onMouseOut:E,style:{stroke:"\t#7f7f7f",fill:n,strokeWidth:"1"}},t)}))})})}),Object(h.jsx)("div",{className:"column is-7-desktop is-12-mobile",children:Object(h.jsx)(f,{target:b,colorScale:t})})]})};var p=function(e){var t=e.scale,n=window.innerWidth,c=Object(o.useState)([]),a=Object(r.a)(c,2),i=a[0],l=a[1],f=10,m=n>768?100:55,p=.6*n,g=.6*p,v=(n>768?180:55)+m+p,y=f+(n>768?50:110)+g;if(Object(o.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa1.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0==i.length)return Object(h.jsx)("div",{className:"columns is-centered is-mobile is-variable is-0-mobile",children:Object(h.jsx)("div",{className:" column is-10-desktop is-12-mobile mt-3",children:Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{style:{width:v,height:y,position:"relative"},children:Object(h.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})})]})})});var w=s.e().domain(s.a(i,(function(e){return e.year}))).range([0,p]).nice(),k=s.e().domain([0,s.a(i,(function(e){return e.sizeOfHousehold}))[1]]).range([g,0]),N=s.e().domain([0,s.a(i,(function(e){return e.population}))[1]]).range([g,0]);return Object(h.jsx)("div",{className:"columns is-centered is-mobile is-variable is-0-mobile",children:Object(h.jsx)("div",{className:" column is-10-desktop is-12-mobile mt-3",style:{margin:0},children:Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(h.jsx)("div",{children:Object(h.jsxs)("svg",{viewBox:"".concat(-m," ").concat(-f," ").concat(v," ").concat(y),width:v,height:y,children:[Object(h.jsx)(O,{scale:t,type:"main",graphWidth:p}),Object(h.jsx)(x,{scale:N,graphHeight:g}),Object(h.jsx)(u,{scale:w,graphWidth:p,graphHeight:g}),Object(h.jsx)(b,{scale:k,graphWidth:p}),Object(h.jsx)("g",{children:i.map((function(e,n){var c=n>0?i[n-1]:null;if(n>0)return Object(h.jsx)("line",{x1:w(c.year),y1:k(c.sizeOfHousehold),x2:w(e.year),y2:k(e.sizeOfHousehold),stroke:t("\u4e16\u5e2f\u5e73\u5747\u4eba\u6570")},e.id)}))}),Object(h.jsx)("g",{children:i.map((function(e,c){return Object(h.jsx)("circle",{cx:w(e.year),cy:k(e.sizeOfHousehold),r:n>768?"5":"3",fill:t("\u4e16\u5e2f\u5e73\u5747\u4eba\u6570")},e.id)}))}),Object(h.jsx)("g",{children:i.map((function(e,n){var c=n>0?i[n-1]:null;if(n>0)return Object(h.jsx)("line",{x1:w(c.year),y1:N(c.population),x2:w(e.year),y2:N(e.population),stroke:t("\u4eba\u53e3")},e.id)}))}),Object(h.jsx)("g",{children:i.map((function(e,c){return Object(h.jsx)("circle",{transform:"translate(".concat(w(e.year),",").concat(N(e.population),")"),cx:"0",cy:"0",r:n>768?"5":"3",fill:t("\u4eba\u53e3")},e.id)}))})]})})]})})})};n(175);function g(){var e=s.f(s.g);return Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{scale:e}),Object(h.jsx)(m,{scale:e})]})}function v(){return Object(h.jsx)("header",{children:Object(h.jsx)("div",{className:"hero is-success",children:Object(h.jsxs)("div",{className:"hero-body",children:[Object(h.jsx)("p",{className:"title",children:"Kanagawa-Vis"}),Object(h.jsx)("p",{className:"subtitle",children:"\u795e\u5948\u5ddd\u770c\u306e\u4eba\u53e3\u3068\u4e16\u5e2f\u5e73\u5747\u4eba\u6570\u306e\u63a8\u79fb\u3001\u5e02\u533a\u753a\u6751\u3054\u3068\u306e\u4eba\u53e3\u306e\u63a8\u79fb\u3092\u53ef\u8996\u5316"})]})})})}function y(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("div",{className:"content has-text-centered",children:Object(h.jsx)("p",{children:"Kanagawa-Vis"})})})}var w=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(v,{}),Object(h.jsx)(g,{}),Object(h.jsx)(y,{})]})};Object(c.render)(Object(h.jsx)(w,{}),document.querySelector("#content"))}},[[176,1,2]]]);
//# sourceMappingURL=main.15dd1e99.chunk.js.map