(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{176:function(e,t,n){"use strict";n.r(t);var c=n(70),s=n(1),a=n(71),r=n(4),i=n(72),o=n(5),l=n(2),j=n.n(l),d=n(15),x=n(0);function h(e){var t=e.scale,n=(e.graphHeight,"#888"),c=t.range(),s=Object(r.a)(c,2),a=s[0],i=s[1];return Object(x.jsxs)("g",{children:[Object(x.jsx)("line",{x1:0,y1:a,x2:0,y2:i+2,stroke:n,strokeWidth:"2"}),Object(x.jsxs)("g",{children:[Object(x.jsx)("g",{transform:"translate(-80, 200) rotate(-90)",children:Object(x.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u4eba\u53e3"})}),t.ticks().map((function(e,c){return Object(x.jsxs)("g",{transform:"translate(0, ".concat(t(e),")"),children:[Object(x.jsx)("line",{x1:"0",y1:"0",x2:"5",y2:"0",stroke:n}),Object(x.jsx)("text",{x:"-8",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:"12",children:e})]},c)}))]})]})}function u(e){var t=e.scale,n=e.graphWidth,c="#888",s=n,a=t.range(),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(x.jsxs)("g",{children:[Object(x.jsx)("line",{x1:s,y1:o,x2:s,y2:l+2,stroke:c,strokeWidth:"2"}),Object(x.jsxs)("g",{children:[Object(x.jsx)("g",{transform:"translate(".concat(s,", 200) rotate(-90)"),children:Object(x.jsx)("text",{x:"30",y:"60",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u4e16\u5e2f\u5e73\u5747\u4eba\u6570"})}),t.ticks().map((function(e,n){return Object(x.jsxs)("g",{transform:"translate(".concat(s,", ").concat(t(e),")"),children:[Object(x.jsx)("line",{x1:"0",y1:"0",x2:"-5",y2:"0",stroke:c}),Object(x.jsx)("text",{x:"30",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:"12",children:e})]},n)}))]})]})}function b(e){var t=e.scale,n=e.graphHeight,c="#888",s=n,a=t.range(),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(x.jsxs)("g",{children:[Object(x.jsx)("line",{x1:o,y1:s,x2:l+5,y2:s,stroke:c}),Object(x.jsxs)("g",{children:[Object(x.jsx)("g",{transform:"translate(400, ".concat(s+40,")"),children:Object(x.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u5e74"})}),t.ticks().map((function(e,a){return Object(x.jsxs)("g",{transform:"translate(".concat(t(e),", 0)"),children:[Object(x.jsx)("line",{x1:"0",y1:n,x2:"0",y2:n-10,stroke:c}),Object(x.jsx)("text",{x:"0",y:s+15,textAnchor:"middle",dominantBaseline:"central",fontSize:"12",children:e})]},a)}))]})]})}var O=function(e){var t=e.scale,n=e.type,c=e.graphWidth;return"main"===n?Object(x.jsx)("g",{transform:"translate(150,0)",children:t.domain().map((function(e,n){return Object(x.jsxs)("g",{transform:"translate(".concat(c-80,", ").concat(20+15*n,")"),children:[Object(x.jsx)("circle",{r:"5",fill:t(e)}),Object(x.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))}):Object(x.jsx)("g",{transform:"translate(150,0)",children:t.domain().map((function(e,n){if(1===n)return Object(x.jsxs)("g",{transform:"translate(".concat(c-50,", ").concat(20+15*n,")"),children:[Object(x.jsx)("circle",{r:"5",fill:t(e)}),Object(x.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))})};var f=function(e){var t=e.target,n=e.colorScale,c=Object(o.useState)([]),a=Object(r.a)(c,2),i=a[0],l=a[1],u=.4*window.innerWidth,f=.5*window.innerHeight,p=10,m=100,g=180+m+u,v=p+50+f;if(Object(o.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa3.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0===i.length)return Object(x.jsx)("div",{className:"columns",children:Object(x.jsx)("div",{className:"column",children:Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(x.jsx)("div",{style:{width:g,height:v,position:"relative"},children:Object(x.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})]})})});if(null===t)return Object(x.jsx)("div",{className:"columns",children:Object(x.jsx)("div",{className:"column",children:Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(x.jsx)("div",{style:{width:g,height:v,position:"relative"},children:Object(x.jsx)("p",{style:{position:"absolute",top:0,bottom:0,margin:"auto",textAlign:"center",height:"50px"},children:"\u5de6\u306e\u795e\u5948\u5ddd\u770c\u306e\u5730\u56f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3053\u3053\u306b\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})})]})})});var y=i.find((function(e){return e.name===t})),w=1970,N=y.population.filter((function(e){return null!==e[w]?(w+=5,!0):(w+=5,!1)})).map((function(e){var t=Object.keys(e)[0];return{year:t,population:e[t]}})),k=s.e().domain(s.a(N,(function(e){return e.year}))).range([0,u]).nice(),S=s.e().domain([0,s.a(N,(function(e){return e.population}))[1]]).range([f,0]);return Object(x.jsxs)("div",{className:"box",children:[Object(x.jsxs)("h2",{children:["\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5 : ",t]}),Object(x.jsx)("div",{children:Object(x.jsxs)("svg",{viewBox:"".concat(-m," ").concat(-p," ").concat(g," ").concat(v),width:g,height:v,children:[Object(x.jsx)(O,{scale:n,type:"sub",graphWidth:u}),Object(x.jsx)(h,{scale:S,graphHeight:f}),Object(x.jsx)(b,{scale:k,graphHeight:f}),Object(x.jsx)("g",{children:N.map((function(e,t){var c=t>0?N[t-1]:null;if(t>0)return Object(x.jsx)("line",{x1:k(c.year),y1:S(c.population),x2:k(e.year),y2:S(e.population),stroke:n("population")},t)}))}),Object(x.jsx)("g",{children:N.map((function(e,t){return Object(x.jsx)("circle",{transform:"translate(".concat(k(e.year),",").concat(S(e.population),")"),cx:"0",cy:"0",r:"5",fill:n("population")},t)}))})]})})]})};var p=function(e){var t=e.scale,n=Object(o.useState)([]),c=Object(r.a)(n,2),l=c[0],j=c[1],d=Object(o.useState)(null),h=Object(r.a)(d,2),u=h[0],b=h[1],O=10,p=10,m=50,g=100,v=.25*window.innerWidth,y=.7*v,w=g+m+v,N=O+p+y;function k(e){b(e.currentTarget.dataset.name)}return Object(o.useEffect)((function(){s.d("kanagawa.topojson").then((function(e){var t=i.a(e,e.objects.kanagawa),n=Object(a.a)({},t);n.features=[];var c=14101;console.log(t);var r=[];for(console.log(t);c<=14402;){var o=t.features.filter((function(e){return e.properties.N03_007>=14101&&e.properties.N03_007<=14402}));if(o.length>0){var l=JSON.parse(JSON.stringify(n));l.features=o,r.push(l)}c++}var d=v,x=y,h=s.b().center([139.355972,35.400833500000005]).translate([d/2,x/2]).scale(21e3),u=s.c().projection(h),b=[];r.map((function(e){b.push({name:e.features[0].properties.N03_004,path:u(e)})})),j(b)}))}),[]),Object(x.jsxs)("div",{className:"columns",children:[Object(x.jsx)("div",{className:"column",children:Object(x.jsx)("div",{className:"box",children:0===l.length?Object(x.jsx)("div",{style:{width:w,height:N,position:"relative"},children:Object(x.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})}):Object(x.jsx)("svg",{viewBox:"".concat(-m," ").concat(-O," ").concat(w," ").concat(N),width:w,height:N,children:l.map((function(e,t){return Object(x.jsx)("path",{onClick:k,d:e.path,"data-name":e.name,style:{stroke:"\t#7f7f7f",fill:u===e.name?"#aad5ff":"#fff",strokeWidth:"1"}},t)}))})})}),Object(x.jsx)("div",{className:"column",children:Object(x.jsx)(f,{target:u,colorScale:t})})]})};var m=function(e){var t=e.scale,n=Object(o.useState)([]),c=Object(r.a)(n,2),a=c[0],i=c[1],l=10,f=50,p=100,m=180,g=.5*window.innerWidth,v=.6*window.innerHeight,y=m+p+g,w=l+f+v;if(Object(o.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa1.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,i(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0==a.length)return Object(x.jsx)("div",{className:"columns is-centered",children:Object(x.jsx)("div",{className:" column is-9 mt-3",children:Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{style:{width:y,height:w,position:"relative"},children:Object(x.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})})]})})});var N=s.e().domain(s.a(a,(function(e){return e.year}))).range([0,g]).nice(),k=s.e().domain([0,s.a(a,(function(e){return e.sizeOfHousehold}))[1]]).range([v,0]),S=s.e().domain([0,s.a(a,(function(e){return e.population}))[1]]).range([v,0]);return Object(x.jsx)("div",{className:"columns is-centered",children:Object(x.jsx)("div",{className:" column is-9 mt-3",children:Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(x.jsx)("div",{children:Object(x.jsxs)("svg",{viewBox:"".concat(-p," ").concat(-l," ").concat(y," ").concat(w),width:y,height:w,children:[Object(x.jsx)(O,{scale:t,type:"main",graphWidth:g}),Object(x.jsx)(h,{scale:S}),Object(x.jsx)(b,{scale:N,graphHeight:v}),Object(x.jsx)(u,{scale:k,graphWidth:g}),Object(x.jsx)("g",{children:a.map((function(e,n){var c=n>0?a[n-1]:null;if(n>0)return Object(x.jsx)("line",{x1:N(c.year),y1:k(c.sizeOfHousehold),x2:N(e.year),y2:k(e.sizeOfHousehold),stroke:t("sizeOfHousehold")},e.id)}))}),Object(x.jsx)("g",{children:a.map((function(e,n){return Object(x.jsx)("circle",{cx:N(e.year),cy:k(e.sizeOfHousehold),r:"5",fill:t("sizeOfHousehold")},e.id)}))}),Object(x.jsx)("g",{children:a.map((function(e,n){var c=n>0?a[n-1]:null;if(n>0)return Object(x.jsx)("line",{x1:N(c.year),y1:S(c.population),x2:N(e.year),y2:S(e.population),stroke:t("population")},e.id)}))}),Object(x.jsx)("g",{children:a.map((function(e,n){return Object(x.jsx)("circle",{transform:"translate(".concat(N(e.year),",").concat(S(e.population),")"),cx:"0",cy:"0",r:"5",fill:t("population")},e.id)}))})]})})]})})})};n(175);function g(){var e=s.f(s.g);return Object(x.jsxs)("div",{children:[Object(x.jsx)(m,{scale:e}),Object(x.jsx)(p,{scale:e})]})}function v(){return Object(x.jsx)("header",{children:Object(x.jsx)("div",{className:"hero is-success",children:Object(x.jsxs)("div",{className:"hero-body",children:[Object(x.jsx)("p",{className:"title",children:"Kanagawa Visualizar"}),Object(x.jsx)("p",{className:"subtitle",children:"Success subtitle"})]})})})}function y(){return Object(x.jsx)("footer",{className:"footer",children:Object(x.jsx)("div",{className:"content has-text-centered",children:Object(x.jsx)("p",{children:"kanagawa visualizar"})})})}var w=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(v,{}),Object(x.jsx)(g,{}),Object(x.jsx)(y,{})]})};Object(c.render)(Object(x.jsx)(w,{}),document.querySelector("#content"))}},[[176,1,2]]]);
//# sourceMappingURL=main.642e57a6.chunk.js.map