(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{174:function(e,t,n){"use strict";n.r(t);var c=n(69),s=n(1),r=n(4),a=n(70),i=n(5),o=n(2),l=n.n(o),j=n(14),d=n(0);function x(e){var t=e.scale,n=(e.graphHeight,"#888"),c=t.range(),s=Object(r.a)(c,2),a=s[0],i=s[1];return Object(d.jsxs)("g",{children:[Object(d.jsx)("line",{x1:0,y1:a,x2:0,y2:i+2,stroke:n,strokeWidth:"2"}),Object(d.jsxs)("g",{children:[Object(d.jsx)("g",{transform:"translate(-80, 200) rotate(-90)",children:Object(d.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u4eba\u53e3"})}),t.ticks().map((function(e,c){return Object(d.jsxs)("g",{transform:"translate(0, ".concat(t(e),")"),children:[Object(d.jsx)("line",{x1:"0",y1:"0",x2:"5",y2:"0",stroke:n}),Object(d.jsx)("text",{x:"-8",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:"12",children:e})]},c)}))]})]})}function h(e){var t=e.scale,n=e.graphWidth,c="#888",s=n,a=t.range(),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(d.jsxs)("g",{children:[Object(d.jsx)("line",{x1:s,y1:o,x2:s,y2:l+2,stroke:c,strokeWidth:"2"}),Object(d.jsxs)("g",{children:[Object(d.jsx)("g",{transform:"translate(".concat(s,", 200) rotate(-90)"),children:Object(d.jsx)("text",{x:"30",y:"60",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u4e16\u5e2f\u5e73\u5747\u4eba\u6570"})}),t.ticks().map((function(e,n){return Object(d.jsxs)("g",{transform:"translate(".concat(s,", ").concat(t(e),")"),children:[Object(d.jsx)("line",{x1:"0",y1:"0",x2:"-5",y2:"0",stroke:c}),Object(d.jsx)("text",{x:"30",y:"0",textAnchor:"end",dominantBaseline:"central",fill:"black",fontSize:"12",children:e})]},n)}))]})]})}function u(e){var t=e.scale,n=e.graphHeight,c="#888",s=n,a=t.range(),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(d.jsxs)("g",{children:[Object(d.jsx)("line",{x1:o,y1:s,x2:l+5,y2:s,stroke:c}),Object(d.jsxs)("g",{children:[Object(d.jsx)("g",{transform:"translate(400, ".concat(s+40,")"),children:Object(d.jsx)("text",{x:"0",y:"0",textAnchor:"end",dominantBaseline:"central",fontSize:"15",children:"\u5e74"})}),t.ticks().map((function(e,r){return Object(d.jsxs)("g",{transform:"translate(".concat(t(e),", 0)"),children:[Object(d.jsx)("line",{x1:"0",y1:n,x2:"0",y2:n-10,stroke:c}),Object(d.jsx)("text",{x:"0",y:s+15,textAnchor:"middle",dominantBaseline:"central",fontSize:"12",children:e})]},r)}))]})]})}var b=function(e){var t=e.scale,n=e.type,c=e.graphWidth;return"main"===n?Object(d.jsx)("g",{transform:"translate(150,0)",children:t.domain().map((function(e,n){return Object(d.jsxs)("g",{transform:"translate(".concat(c-80,", ").concat(20+15*n,")"),children:[Object(d.jsx)("circle",{r:"5",fill:t(e)}),Object(d.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))}):Object(d.jsx)("g",{transform:"translate(150,0)",children:t.domain().map((function(e,n){if(1===n)return Object(d.jsxs)("g",{transform:"translate(".concat(c-50,", ").concat(20+15*n,")"),children:[Object(d.jsx)("circle",{r:"5",fill:t(e)}),Object(d.jsx)("text",{x:"10",fontSize:"11",dominantBaseline:"central",children:e})]},n)}))})};var O=function(e){var t=e.target,n=e.colorScale,c=Object(i.useState)([]),a=Object(r.a)(c,2),o=a[0],h=a[1],O=.4*window.innerWidth,f=.5*window.innerHeight,p=10,m=100,g=180+m+O,v=p+50+f;if(Object(i.useEffect)((function(){Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa3.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0===o.length)return Object(d.jsx)("div",{className:"columns",children:Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(d.jsx)("div",{style:{width:g,height:v,position:"relative"},children:Object(d.jsx)("progress",{class:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})]})})});if(null===t)return Object(d.jsx)("div",{className:"columns",children:Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("h2",{children:"\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5"}),Object(d.jsx)("div",{style:{width:g,height:v,position:"relative"},children:Object(d.jsx)("p",{style:{position:"absolute",top:0,bottom:0,margin:"auto",textAlign:"center",height:"50px"},children:"\u5de6\u306e\u795e\u5948\u5ddd\u770c\u306e\u5730\u56f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3053\u3053\u306b\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"})})]})})});var y=o.find((function(e){return e.name===t})),w=1970,k=y.population.filter((function(e){return null!==e[w]?(w+=5,!0):(w+=5,!1)})).map((function(e){var t=Object.keys(e)[0];return{year:t,population:e[t]}})),S=s.e().domain(s.a(k,(function(e){return e.year}))).range([0,O]).nice(),N=s.e().domain([0,s.a(k,(function(e){return e.population}))[1]]).range([f,0]);return Object(d.jsxs)("div",{class:"box",children:[Object(d.jsxs)("h2",{children:["\u5e02\u533a\u753a\u6751\u5225\u306e\u30b0\u30e9\u30d5 : ",t]}),Object(d.jsx)("div",{children:Object(d.jsxs)("svg",{viewBox:"".concat(-m," ").concat(-p," ").concat(g," ").concat(v),width:g,height:v,children:[Object(d.jsx)(b,{scale:n,type:"sub",graphWidth:O}),Object(d.jsx)(x,{scale:N,graphHeight:f}),Object(d.jsx)(u,{scale:S,graphHeight:f}),Object(d.jsx)("g",{children:k.map((function(e,t){var c=t>0?k[t-1]:null;if(t>0)return Object(d.jsx)("line",{x1:S(c.year),y1:N(c.population),x2:S(e.year),y2:N(e.population),stroke:n("population")},t)}))}),Object(d.jsx)("g",{children:k.map((function(e,t){return Object(d.jsx)("circle",{transform:"translate(".concat(S(e.year),",").concat(N(e.population),")"),cx:"0",cy:"0",r:"5",fill:n("population")},t)}))})]})})]})};var f=function(e){var t=e.scale,n=Object(i.useState)([]),c=Object(r.a)(n,2),o=c[0],l=c[1],j=Object(i.useState)(null),x=Object(r.a)(j,2),h=x[0],u=x[1],b=10,f=10,p=50,m=100,g=window.innerWidth,v=(window.innerHeight,.25*g),y=.7*v,w=m+p+v,k=b+f+y;function S(e){u(e.currentTarget.dataset.name)}return Object(i.useEffect)((function(){s.d("kanagawa.topojson").then((function(e){var t=a.a(e,e.objects.kanagawa),n=JSON.parse(JSON.stringify(t));n.features=[];for(var c=14101,r=[];c<=14402;){var i=t.features.filter((function(e){return e.properties.N03_007==c}));if(i.length>0){var o=JSON.parse(JSON.stringify(n));o.features=i,r.push(o)}c++}var j=v,d=y,x=s.b().center([139.355972,35.400833500000005]).translate([j/2,d/2]).scale(21e3),h=s.c().projection(x),u=[];r.map((function(e){u.push({name:e.features[0].properties.N03_004,path:h(e)})})),l(u)}))}),[]),Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("div",{className:"box",children:0===o.length?Object(d.jsx)("div",{style:{width:w,height:k,position:"relative"},children:Object(d.jsx)("progress",{className:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})}):Object(d.jsx)("svg",{viewBox:"".concat(-p," ").concat(-b," ").concat(w," ").concat(k),width:w,height:k,children:o.map((function(e,t){return Object(d.jsx)("path",{onClick:S,d:e.path,"data-name":e.name,style:{stroke:"\t#7f7f7f",fill:h===e.name?"#aad5ff":"#fff",strokeWidth:"1"}},t)}))})})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsx)(O,{target:h,colorScale:t})})]})};var p=function(e){var t=e.scale,n=Object(i.useState)([]),c=Object(r.a)(n,2),a=c[0],o=c[1],O=10,f=50,p=100,m=180,g=.5*window.innerWidth,v=.6*window.innerHeight,y=m+p+g,w=O+f+v;if(Object(i.useEffect)((function(){Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("kanagawa1.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))()}),[]),0==a.length)return Object(d.jsx)("div",{class:"columns is-centered",children:Object(d.jsx)("div",{class:" column is-9 mt-3",children:Object(d.jsxs)("div",{class:"box",children:[Object(d.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{style:{width:y,height:w,position:"relative"},children:Object(d.jsx)("progress",{class:"progress is-small is-success",max:"100",style:{position:"absolute",top:0,bottom:0,margin:"auto"}})})})]})})});var k=s.e().domain(s.a(a,(function(e){return e.year}))).range([0,g]).nice(),S=s.e().domain([0,s.a(a,(function(e){return e.sizeOfHousehold}))[1]]).range([v,0]),N=s.e().domain([0,s.a(a,(function(e){return e.population}))[1]]).range([v,0]);return Object(d.jsx)("div",{class:"columns is-centered",children:Object(d.jsx)("div",{class:" column is-9 mt-3",children:Object(d.jsxs)("div",{class:"box",children:[Object(d.jsx)("h2",{children:"\u795e\u5948\u5ddd\u770c\u5168\u4f53\u306e\u30b0\u30e9\u30d5"}),Object(d.jsx)("div",{children:Object(d.jsxs)("svg",{viewBox:"".concat(-p," ").concat(-O," ").concat(y," ").concat(w),width:y,height:w,children:[Object(d.jsx)(b,{scale:t,type:"main",graphWidth:g}),Object(d.jsx)(x,{scale:N}),Object(d.jsx)(u,{scale:k,graphHeight:v}),Object(d.jsx)(h,{scale:S,graphWidth:g}),Object(d.jsx)("g",{children:a.map((function(e,n){var c=n>0?a[n-1]:null;if(n>0)return Object(d.jsx)("line",{x1:k(c.year),y1:S(c.sizeOfHousehold),x2:k(e.year),y2:S(e.sizeOfHousehold),stroke:t("sizeOfHousehold")},e.id)}))}),Object(d.jsx)("g",{children:a.map((function(e,n){return Object(d.jsx)("circle",{cx:k(e.year),cy:S(e.sizeOfHousehold),r:"5",fill:t("sizeOfHousehold")},e.id)}))}),Object(d.jsx)("g",{children:a.map((function(e,n){var c=n>0?a[n-1]:null;if(n>0)return Object(d.jsx)("line",{x1:k(c.year),y1:N(c.population),x2:k(e.year),y2:N(e.population),stroke:t("population")},e.id)}))}),Object(d.jsx)("g",{children:a.map((function(e,n){return Object(d.jsx)("circle",{transform:"translate(".concat(k(e.year),",").concat(N(e.population),")"),cx:"0",cy:"0",r:"5",fill:t("population")},e.id)}))})]})})]})})})};n(173);function m(){var e=s.f(s.g);return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{scale:e}),Object(d.jsx)(f,{scale:e})]})}function g(){return Object(d.jsx)("header",{children:Object(d.jsx)("div",{class:"hero is-success",children:Object(d.jsxs)("div",{class:"hero-body",children:[Object(d.jsx)("p",{class:"title",children:"Kanagawa Visualizar"}),Object(d.jsx)("p",{class:"subtitle",children:"Success subtitle"})]})})})}function v(){return Object(d.jsx)("footer",{class:"footer",children:Object(d.jsx)("div",{class:"content has-text-centered",children:Object(d.jsx)("p",{children:"kanagawa visualizar"})})})}var y=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{}),Object(d.jsx)(m,{}),Object(d.jsx)(v,{})]})};Object(c.render)(Object(d.jsx)(y,{}),document.querySelector("#content"))}},[[174,1,2]]]);
//# sourceMappingURL=main.9ace55f0.chunk.js.map